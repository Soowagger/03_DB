CREATE TABLE TB_MEMBER(

    MEMBER_ID VARCHAR2(30),
    MEMBER_PWD VARCHAR2(30),
    MEMBER_NAME VARCHAR2(30),
    GRADE NUMBER,
    AREA_CODE VARCHAR2(30)
);


CREATE TABLE TB_GRADE(
    GRADE_CODE NUMBER,
    GRADE_NAME VARCHAR2(30)
);


CREATE TABLE TB_AREA(
    AREA_CODE VARCHAR2(30),
    AREA_NAME VARCHAR2(30)
);


INSERT INTO TB_MEMBER VALUES ('hong01', 'pass01', '홍길동', 10, '02');
INSERT INTO TB_MEMBER VALUES ('leess99', 'pass02', '이순신', 10, '032');
INSERT INTO TB_MEMBER VALUES ('ss50000', 'pass03', '신사임당', 30, '031');
INSERT INTO TB_MEMBER VALUES ('iu93', 'pass04', '아이유', 30, '02');
INSERT INTO TB_MEMBER VALUES ('pcs1234', 'pass05', '박철수', 20, '031');
INSERT INTO TB_MEMBER VALUES ('you_js', 'pass06', '유재석', 10, '02');
INSERT INTO TB_MEMBER VALUES ('kyh9876', 'pass07', '김영희', 20, '031');



INSERT INTO TB_GRADE VALUES (10, '일반회원');
INSERT INTO TB_GRADE VALUES (20, '우수회원');
INSERT INTO TB_GRADE VALUES (30, '특별회원');

INSERT INTO TB_AREA VALUES('02', '서울');
INSERT INTO TB_AREA VALUES('031', '경기');
INSERT INTO TB_AREA VALUES('032', '인천');


SELECT AREA_NAME 지역명, MEMBER_ID 아이디, MEMBER_NAME 이름, GRADE_NAME 등급명
FROM TB_MEMBER
JOIN TB_GRADE ON(GRADE = GRADE_CODE)
JOIN TB_AREA USING(AREA_CODE) 
WHERE AREA_CODE = ( SELECT AREA_CODE FROM TB_MEMBER
WHERE MEMBER_NAME = '김영희') 
ORDER BY 이름 DESC; 


SELECT * FROM TB_MEMBER E;
SELECT * FROM TB_GRADE;


SELECT AREA_NAME 지역명, MEMBER_ID 아이디, MEMBER_NAME 이름, GRADE_NAME 등급명

FROM TB_MEMBER

JOIN TB_GRADE ON(GRADE = GRADE_CODE)

NATURAL JOIN TB_AREA

WHERE AREA_CODE = (

SELECT AREA_CODE FROM TB_MEMBER

WHERE MEMBER_NAME = '김영희')

ORDER BY 이름 DESC;



-- * 조치 필요 구문 컬러링 및 조치 내용 주석 처리하여 기술



SELECT AREA_NAME 지역명, MEMBER_ID 아이디, MEMBER_NAME 이름, GRADE_NAME 등급명


FROM TB_MEMBER

JOIN TB_GRADE ON(GRADE = GRADE_CODE)

JOIN TB_AREA USING(AREA_CODE)
-- 1. ON → USING 변경 // 이 경우 테이블별로 별칭 설정하여 ON으로 비교하거나, NATURAL 조인도 대체 가능

WHERE AREA_CODE = (

SELECT AREA_CODE FROM TB_MEMBER

WHERE 이름 = '김영희') 
-- 2. '이름' 별칭 → MEMBER_NAME으로 변경(단일행 서브쿼리이기 때문에 연산자 변경은 X)


ORDER BY 이름; -- 3. 내림차순인 DESC 제거, 오름차순 ASC 생략


